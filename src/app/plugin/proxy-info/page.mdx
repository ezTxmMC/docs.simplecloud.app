import {Button} from "../../../components/Button";
import {CodeGroup} from "../../../components/Code";

export const metadata = {
    title: 'Proxy Plugin',
    description: 'Enhance your server network with customizable MOTD and Tablist features'
}

# Proxy Plugin

The Proxy Plugin enhances your server network with customizable MOTD (Server Info) and Tablist features, offering extensive customization options through simple configuration files. All settings are synchronized across all proxies. {{ className: 'lead' }}

<Button href="https://github.com/theSimpleCloud/proxy-plugin/releases" arrow="right">
    <>Download</>
</Button>

## Supported Server Softwares

The following table shows all currently supported proxy implementations:

| Software   | This Plugin |
| ---------- | ----------- |
| Velocity   | Yes         | 
| Bungeecord | Yes         | 

If you would like to add support for a missing server software, feel free to submit a pull request on [GitHub](#).

## Quick Setup

1. Download the plugin for your proxy software
2. Place it in your proxy template's plugins folder
3. Start your proxy server
4. Configure using `messages.yml`, `tablist.yml` the layouts in `layout/your-layout.yml`

## Features

### MOTD
Our MOTD system supports multiple layouts that you can create in the `layout/` folder. These layouts allow you to generate multiple messages that can be displayed either statically or rotated randomly. This feature is especially useful for announcements, maintenance notices, or highlighting different aspects of your server. With support for MiniMessage format, you can create visually rich text displays that include gradients, colors, and advanced formatting options.

```yaml
first-lines:
- <gradient:#00fcff:#0da1a3><bold>SimpleCloud</bold></gradient> <dark_gray>»<gray>
    Simplify your network <dark_gray>|<bold><#4595ff> 1.12<#545454> - <#4595ff>1.20</bold>
second-lines:
- '<dark_gray>× <#178fff>Status<dark_gray>: <bold><#22cc22>Online</bold> <dark_gray>-
    <#ffffff>%PROXY%'
player-info: []
version-name: ''
server-icon: server-icon.png
max-player-display-type: REAL #or DYNAMIC
dynamic-player-range: 1 #Only enabled if max-player-display-type is DYNAMIC
```
<Note>
    If the proxy runs locally on your computer, the actual slots are displayed because the controller performs health checks and information requests by pinging the proxy. Players, however, see different information.
</Note>

### Tablist Header and Footer

Create engaging tablist headers and footers that update automatically. The plugin supports both static and animated content, with configurable update intervals. You can display real-time information like player counts, server status, or custom messages. All text supports MiniMessage formatting for advanced styling.

```yaml
groups:

-   group-or-service: '*'
    tab-lists:
    -   header:
        - <dark_gray>                                                                        <dark_gray>
        - <aqua>SimpleCloud <dark_gray>» <gray>Simplify <white><italic>your</italic>
            <gray>network
        - <dark_aqua>Online <dark_gray>» <gray><online_players><dark_gray>/<gray><max_players>
            <dark_gray>┃ <dark_aqua>Server <dark_gray>» <gray><server_name>
        - <dark_gray>
        footer:
        - <dark_gray>
        - <dark_aqua>Twitter <dark_gray>» <gray>@theSimpleCloud
        - <dark_aqua>Discord <dark_gray>» <gray>discord.simplecloud.app
        - <dark_gray>
-   group-or-service: 'lobby'
    tab-lists:
    -   header:
        - <white>Welcome back on %SERVER_NAME%
        footer:
        - <gray>%ONLINE_PLAYERS%<dark_gray>/<gray>%MAX_PLAYERS%
tab-list-update-time: 3000 #When 0, the tablist will no longer be updated afterward.
```

### Joinstates

<DangerNote>
    Documentation will be available in the coming days.
</DangerNote>

## Placeholders

| Placeholder        | MOTD | Tablist | Description                    |
|-------------------|------|----------|--------------------------------|
| %ONLINE_PLAYERS%  | Yes  | Yes      | Current online players         |
| %MAX_PLAYERS%     | Yes  | Yes      | Maximum network players        |
| %SERVER_NAME%     | No   | Yes      | Player's current server        |
| %CURRENT_TIME%    | No   | Yes      | Current time                   |
| %CURRENT_DATE%    | No   | Yes      | Current date                   |
| %PING%            | No   | Yes      | Player's ping                  |

## API Integration

The plugin provides events for custom modifications:

<CodeGroup>
```java {{title: 'Tablist Event Example'}}
@Subscribe
public void onTablistConfiguration(TablistConfigurationEvent event) {
    TablistConfiguration config = event.getTablistConfiguration();

    // Modify header
    Component header = config.getHeader()
        .replaceText(TextReplacementConfig.builder()
        .match("%CUSTOM_PLACEHOLDER%")
        .replacement("<red>Custom Text</red>")
        .build());

    config.setHeader(header);
}
```
</CodeGroup>

## What's Next?

- [Server API Documentation](/api#server)
- [Proxy Configuration](/proxy)
- [Plugin Development](/plugins)


