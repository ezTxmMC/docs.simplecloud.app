import {Note, CodeGroup} from "../../../components/mdx";
import { TroubleShootingHeroPattern } from '../../../components/TroubleShootingHeroPattern'

export const metadata = {
    title: "Troubleshooting",
    description: "Common Problems and Solutions"
}

<TroubleShootingHeroPattern />

# Minecraft Server uses wrong Java version
In this troubleshooting you will find out why your Minecraft server is not starting with the correct Java version and how you can fix the problem.

## Symptoms
- WindSpigot throws a `java.lang.NoSuchMethodError: 'com.google.common.collect.MapMaker com.google.common.collect.MapMaker.softValues()'` exception
- My 1.8 server does not start
- I changed Java from version 23 to 21, and now my server won't start anymore

## Possible Causes
- The server software does not support the latest Java 21 version
- An incorrect Java version was configured in `/components/serverhost/environments/`
- You are using WindSpigot with a Java version above Java 18

## Resolution
1. Open the folder in the `/components/serverhost/environments/` directory
2. Copy the `screen.yml` file, paste it and rename it as you wish, e.g. to `java-version-screen.yml`
3. Now open the previously copied file
4. Change the value of `name` so that it matches the previously selected file name
5. Adjust the value under `start.command` by replacing the argument `/opt/jdk-21.0.4+7/bin/java` with the installation path of the Java version you want to use
6. Open the group file in which you want to change the Java version. You can find this file under the path `/components/serverhost/options/runtime/<serverGroup>.yml`
7. Change the `environment` argument so that it matches the name of the previously copied file, e.g. to `java-version-screen`

## Example of how the configs should look like
If you have followed the **step-by-step** instructions correctly, the configurations should look like this:
<CodeGroup>
    ```yaml {{title: 'java-version-screen.yml'}}
    enabled: true
    is-screen: true
    use-screen-stop: true
    is-docker: false
    name: java-version-screen
    start:
        command:
        - screen
        - -L
        - -Logfile
        - '%LOG_FILE%'
        - -dmS
        - '%SCREEN_NAME%'
        - /opt/jdk-21.0.4+7/bin/java
        - -Xms%MIN_MEMORY%M
        - -Xmx%MAX_MEMORY%M
        - -Dcom.mojang.eula.agree=true
        - -cp
        - /home/simplecloud/components/serverhost/../libs/*:%SERVER_FILE% # Your path from the cloud must be specified here
        - '%MAIN_CLASS%'
        - nogui
    version: '1'
    ```

    ```yaml {{title: 'bedwars.yml'}}
    environment: java-version-screen
    version: '1'
    ```
</CodeGroup>

##
##
##

<Note>
    If this page doesnâ€™t help, feel free to create an issue on [GitHub](https://github.com/thesimplecloud) or post in our [Community Discord](https://discord.simplecloud.app).
</Note>